DROP TABLE IF EXISTS email_notifications;
DROP TABLE IF EXISTS ADVISOR;

CREATE TABLE ADVISOR (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY NOT NULL,
    FIRST_NAME VARCHAR(255) NOT NULL,
    LAST_NAME VARCHAR(255) NOT NULL,
    DISPLAY_NAME VARCHAR(255) NOT NULL,
    EMAIL_ID VARCHAR(255) NOT NULL,
    PHONE_NUMBER VARCHAR(20),
    FIRM_NAME VARCHAR(255) NOT NULL,
    ADVISOR_REGION VARCHAR(255) NOT NULL,
    BUSINESS_JUSTIFICATION VARCHAR(1000),
    CRD VARCHAR(50),
    STATUS VARCHAR(50),
    INVITATION_URL VARCHAR(255),
    VERSION INT DEFAULT 0,
    CREATE_DATE TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CREATED_BY VARCHAR(255),
    MODIFIED_DATE TIMESTAMP,
    MODIFIED_BY VARCHAR(255)
);

CREATE TABLE email_notifications (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ADVISOR_ID BIGINT NOT NULL,
    EMAIL_TYPE VARCHAR(255) NOT NULL,
    STATUS VARCHAR(50) DEFAULT 'PENDING',
    VERSION INT DEFAULT 0,
    CREATE_DATE TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CREATED_BY VARCHAR(255),
    MODIFIED_DATE TIMESTAMP,
    MODIFIED_BY VARCHAR(255),
    FOREIGN KEY (ADVISOR_ID) REFERENCES ADVISOR(ID)
);
